<app-blank pageTitle="Ürünler" [breadcrumbs]="[{title:'Ürünler', url:'/products ', icon:'box'}]"></app-blank>

<div style="display: flex; justify-content: flex-end; margin-bottom: 1rem;">
    <p-button 
        icon="pi pi-plus" 
        [rounded]="true" 
        severity="primary" 
        [raised]="true"
        pTooltip="Yeni Ürün Ekle" 
        tooltipPosition="left"
        routerLink="create"> </p-button>
</div>

<p-table [value]="data()" [loading]="loading()" [tableStyle]="{ 'min-width': '50rem' }">
    <ng-template pTemplate="header">
        <tr>
            <th>Ürün Adı</th>
            <th>Kategori</th>
            <th>Ürün Resmi</th>
            <th>Fiyat</th>
            <th>Stok</th>
            
            <th style="width: 120px; text-align: center;">İşlemler</th>
        </tr>
    </ng-template>

    <ng-template pTemplate="body" let-product>
        <tr>
            <td>{{ product.name }}</td>
            <td>{{ product.categoryName }}</td>
            <td>
                <img [src]="product.imageUrl" [alt]="product.name" height="70" style="border-radius: 5px;">
            </td>
            <td>{{ product.price | currency:'TRY':'symbol-narrow':'1.2-2' }}</td>
            <td>{{ product.stock }}</td>
            
            <td style="text-align: center;">
                <div style="display: flex; gap: 10px; justify-content: center;">
                    <p-button 
                        icon="pi pi-pencil" 
                        severity="success" 
                        [outlined]="true" 
                        pTooltip="Güncelle" 
                        tooltipPosition="top">
                    </p-button>

                    <p-button 
                        icon="pi pi-trash" 
                        severity="danger" 
                        [outlined]="true" 
                        pTooltip="Sil" 
                        tooltipPosition="top">
                    </p-button>
                </div>
            </td>
        </tr>
    </ng-template>
</p-table>